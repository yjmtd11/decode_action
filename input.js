const _0x37b863=_0x2a44;(function(_0x2fc8c5,_0x5074d8){const _0x1b4fd8=_0x2a44,_0x4333e0=_0x2fc8c5();while(!![]){try{const _0x1c37a8=parseInt(_0x1b4fd8(0x211))/0x1+-parseInt(_0x1b4fd8(0x1e4))/0x2+-parseInt(_0x1b4fd8(0x263))/0x3+-parseInt(_0x1b4fd8(0x1ee))/0x4*(parseInt(_0x1b4fd8(0x2ef))/0x5)+parseInt(_0x1b4fd8(0x2ee))/0x6*(parseInt(_0x1b4fd8(0x244))/0x7)+-parseInt(_0x1b4fd8(0x2e6))/0x8+parseInt(_0x1b4fd8(0x206))/0x9;if(_0x1c37a8===_0x5074d8)break;else _0x4333e0['push'](_0x4333e0['shift']());}catch(_0x4a9a9c){_0x4333e0['push'](_0x4333e0['shift']());}}}(_0x1712,0xf1da5));function _0x2a44(_0x170304,_0x1623bb){const _0x171245=_0x1712();return _0x2a44=function(_0x2a44fc,_0x308c83){_0x2a44fc=_0x2a44fc-0x1ce;let _0x2ce9c5=_0x171245[_0x2a44fc];return _0x2ce9c5;},_0x2a44(_0x170304,_0x1623bb);}const wxcode=require(_0x37b863(0x2b9)),fs=require('fs'),path=require(_0x37b863(0x1d3)),crypto=require(_0x37b863(0x241)),https=require(_0x37b863(0x1e5)),http=require(_0x37b863(0x258)),{URL}=require('url'),zlib=require(_0x37b863(0x2c4)),vm=require('vm');global[_0x37b863(0x26a)]=global[_0x37b863(0x26a)]||{},global[_0x37b863(0x2f3)]=null;const NOTICE_SWITCH=0x1,KAMI_VERIFY_SWITCH=0x0,APPID='wx4080846d0cec2fd5',KAMI_API_URL='http://kami.19820121.xyz/api/verify.php',KAMI_API_KEY=_0x37b863(0x225),QMAI_API_BASE=_0x37b863(0x2fb),DUIFA_API_BASE=_0x37b863(0x233),args=process[_0x37b863(0x2b8)]['slice'](0x2),getArg=_0x57393b=>{const _0x493e81=args['indexOf']('--'+_0x57393b);return _0x493e81!==-0x1&&args[_0x493e81+0x1]?args[_0x493e81+0x1]:null;},cmdWxid=getArg(_0x37b863(0x266)),cmdServer=getArg('server'),isDebug=args[_0x37b863(0x28a)](_0x37b863(0x26b)),wxidList=cmdWxid||process[_0x37b863(0x2c5)][_0x37b863(0x2c6)]||'',kamiKey=process['env'][_0x37b863(0x280)]||'';cmdServer&&(process[_0x37b863(0x2c5)][_0x37b863(0x1dd)]=cmdServer,isDebug&&console['log'](_0x37b863(0x2bd)+cmdServer));function _0x1712(){const _0x4a13aa=['\x22\x20从window对象中获取token','个脚本中找到getDuibaToken函数',']\x20获取微信授权码...',']\x20今日已签到',']\x20获取兑吧token...','hostname','set-cookie',']\x20第','signOperatingId','getDuifaCookies',']\x20获取手机号失败:\x20','remarkName','getDuibaToken函数未定义',']\x20getToken接口调用失败:\x20','❌\x20没有找到有效的wxid','https://86019-activity.dexfu.cn/sign/component/page?signOperatingId=','./sendNotify','zh-CN,zh;q=0.9','argv','./wxcode','GET','v=1.0','empty','[DEBUG]\x20设置服务器地址:\x20','\x0a🎉\x20所有账号处理完成！','请求超时','wechat','createHash','/ctool/getCredits?_=',']\x20获取兑吧cookie失败','zlib','env','TXX_WXID','success','openid','/chw/ctoken/getToken',']\x20脚本','getQmaiMobileToken','无法从getDuibaToken函数中提取key','[DEBUG]\x20[','end','&token=','split',']\x20处理失败:\x20','msg','code','zh-CN,zh-Hans;q=0.9','appid','substring','extractKeyFromPage','Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2016_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.49(0x18003137)\x20NetType/WIFI\x20Language/zh_CN',']\x20getToken接口调用成功，响应:\x20','zh-CN','signResult','parseKeyFromHTML','...',']\x20检查签到状态...',']\x20获取授权码失败，跳过',']\x20获取手机号绑定token...','[DEBUG]\x20调试模式已开启','sendNotify',']\x20开始解析HTML中的脚本...','card_key','request','4895864vMMgXh','个脚本中找到getDuibaToken函数(window)',']\x20签到失败:\x20',']\x20在第',']\x20执行完整的益禾堂登录流程...',']\x20getToken接口响应格式错误:\x20','filter','/web/account-center/oauth/bind-mobile','3571068mSpgDm','7045PNGDcG','searchParams','headers','_tokens.json','getDuibaToken','卡密验证失败','getmobile','detachEvent','个脚本执行失败:\x20',']\x20找到token脚本，执行第','statusCode','application/json,\x20text/plain,\x20*/*','https://webapi.qmai.cn',',\x20积分=','parseKeyFromSignPageHTML','Mozilla/5.0','✅\x20卡密验证成功','credits',']\x20开始益禾堂登录流程...','https:','getToken接口调用失败','包含getDuibaToken关键字!','stack','path','pipe','token',']\x20跳转信息响应异常:\x20','执行token脚本失败:\x20','none',']\x20尝试执行第','❌\x20未找到sendNotify模块，无法发送通知','search','createContext','PHONECODE_SERVER','cors','length','/sign/component/doSign?_=','个脚本执行后，检查VM上下文:','toUpperCase','write','2644488wWKluU','https','/chw/visual-editor/skins?id=203576&from=login&spm=86019.1.1.1','getWxCodeAndLogin','getWxCode','min','startsWith','innerWidth','-node-script','parse','3868xOxTGL','完整内容:\x20','获取签到页面失败:\x20','❌\x20通知发送失败:\x20','https://servicewechat.com/wx4080846d0cec2fd5/490/page-frame.html','deflate','/web/account-center/oauth/mini-app-login','webapi.qmai.cn','runInContext','message','gzip,\x20deflate,\x20br','map','navigator','timestamp=','exec','getRemarkName','❌\x20卡密验证失败:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','performSignIn','\x20=\x20','307439345658377','userProfile',']\x20找到','clearTimeout','32247441zmFthV','catering','getSignOperatingId','application/x-www-form-urlencoded','脚本数量不足，需要至少3个，实际找到','createBrotliDecompress','hex',',\x20次数=','port','assign','mobileInfo','1123098zDnhsX','performFullLogin','&preview=false&_=','devicePixelRatio','qmaiToken','../sendNotify','card_type','queryCredits','querySignResult','\x0a[DEBUG]\x20[','/sign/component/index?signOperatingId=','count','same-origin','removeEventListener','digest',']\x20获取兑吧cookie失败:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/wxpic,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',']\x20手机号绑定token获取成功','*/*','\x20处理完成','6e62e481fe3f0ad007bb5a1df54bc0fa','未设置卡密，请设置环境变量\x20TXX_KAMI','push',']\x20脚本执行出错：','获取token','❌\x20[','addEventListener','getDuifaToken','📢\x20通知发送成功','个script标签','run','content-encoding','\x20\x20\x20有效期:\x20','Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2016_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.49(0x18003137)\x20NetType/WIFI\x20Language/zh_CN\x20miniProgram/wx4080846d0cec2fd5','https://86019-activity.dexfu.cn','md5','update','consumerCredits',']\x20成功提取key:\x20','total_count','createGunzip',']\x20获取到token脚本，长度:\x20','expectJson','请求错误:\x20','join','Set-Cookie','前100字符:\x20','💰\x20[','crypto','个脚本...',']\x20执行签到...','7wdcQzR','[DEBUG]\x20账号列表:\x20','u=0,\x20i','desc','POST','1.0',']\x20获取跳转信息失败','wxCode','device_id',']\x20window函数:\x20','duifaCookies','🔓\x20卡密验证已关闭，跳过验证步骤','getQmaiInitialToken',']\x20未找到兑吧cookie','网络请求失败:\x20','gzip','repeat','text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',']\x20获取签到ID失败','/sign/component/signResult?orderNum=','http','loginToken','performance','createInflate','pathname','86019-activity.dexfu.cn','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/107.0.0.0\x20Safari/537.36\x20MicroMessenger/7.0.20.1781(0x6700143B)\x20NetType/WIFI\x20MiniProgramEnv/Windows\x20WindowsWechat/WMPF\x20WindowsWechat(0x63090a13)\x20XWEB/8555','toString','remaining_count',']\x20vmContext.getDuibaToken已定义','function','3041898HSsqgB','16px',']\x20获取手机号绑定token失败:\x20','wxid',']\x20vmContext.window.getDuibaToken已定义','203009','navigate','window','--debug',']\x20查询积分...','https://86019.activity-12.m.duiba.com.cn/chw/visual-editor/skins?id=203576',']\x20绑定手机号失败','HTTP\x20','trim','api_key',']\x20错误堆栈:\x20','setTimeout',']\x20获取授权码失败：','🧸\x20温馨提示：150积分换3元券~求莫名堂写这个\x20🧸','❌\x20未设置环境变量\x20TXX_WXID\x20或命令行参数\x20--wxid',']\x20签到请求失败:\x20','isLogin',']\x20开始从签到页面提取key...','protocol','now',']\x20跳转信息获取成功','error',']\x20初始token响应异常:\x20','keep-alive','TXX_KAMI',']\x20脚本执行结果汇总:','✅\x20[','\x20个有效账号',']\x20成功获取token脚本，长度:\x20','duifaToken','stringify',']\x20获取签到token失败:\x20','data','callGetTokenApi','includes','.js','，原始响应:\x20','location','signOperatingId=','destroy',']\x20所有脚本都尝试完毕，但未找到getDuibaToken函数','log','📋\x20共找到\x20','extractKeyFromSignPage','unitName','获取页面失败:\x20','time','脚本数量不足，需要至少6个，实际找到',']\x20window.',']\x20getDuibaToken函数内容:\x20','checkSignStatus','set',']\x20查询签到结果失败','application/json','请求超时，请检查网络连接',']\x20获取益禾堂初始token...',']\x20手机号绑定token响应异常:\x20','keys','&_=',']\x20兑吧cookie获取成功','body','document'];_0x1712=function(){return _0x4a13aa;};return _0x1712();}const scriptName=path['basename'](__filename,_0x37b863(0x28b)),TOKEN_CACHE_FILE=path[_0x37b863(0x23d)](__dirname,scriptName+_0x37b863(0x2f2));function parseWxidList(_0x400d3d){const _0x26167f=_0x37b863;if(!_0x400d3d)return[];return _0x400d3d[_0x26167f(0x2d0)]('\x0a')[_0x26167f(0x1f9)](_0x34afe9=>_0x34afe9['trim']())[_0x26167f(0x2ec)](_0x39d5e2=>_0x39d5e2['length']>0x0)['filter'](_0x6b1568=>!_0x6b1568[_0x26167f(0x1ea)]('#'));}function generateDeviceId(){const _0x268821=_0x37b863,_0x58ac09=require('os'),_0x5d421f=_0x58ac09['hostname'](),_0x4d1211=_0x5d421f+_0x268821(0x1ec),_0x13720d=crypto[_0x268821(0x2c1)](_0x268821(0x234))[_0x268821(0x235)](_0x4d1211)[_0x268821(0x21f)](_0x268821(0x20c))[_0x268821(0x2d6)](0x0,0x10);return _0x13720d;}async function verifyKami(_0x53deb2){return new Promise((_0x178030,_0xfa8b05)=>{const _0x26b94f=_0x2a44;if(!_0x53deb2){_0x178030({'success':![],'code':0x1,'message':_0x26b94f(0x226)});return;}const _0x7d2265=generateDeviceId(),_0x5ab6d7=new URL(KAMI_API_URL);_0x5ab6d7['searchParams'][_0x26b94f(0x29b)](_0x26b94f(0x271),KAMI_API_KEY),_0x5ab6d7[_0x26b94f(0x2f0)][_0x26b94f(0x29b)](_0x26b94f(0x2e4),_0x53deb2),_0x5ab6d7[_0x26b94f(0x2f0)][_0x26b94f(0x29b)](_0x26b94f(0x24c),_0x7d2265);const _0xf0ac1c={'hostname':_0x5ab6d7[_0x26b94f(0x2ab)],'port':_0x5ab6d7[_0x26b94f(0x20e)]||(_0x5ab6d7[_0x26b94f(0x27a)]===_0x26b94f(0x1cf)?0x1bb:0x50),'path':_0x5ab6d7['pathname']+_0x5ab6d7[_0x26b94f(0x1db)],'method':'GET','headers':{'User-Agent':'Node.js\x20Script'}},_0x5da462=_0x5ab6d7[_0x26b94f(0x27a)]==='https:'?https:http,_0x2e7aeb=_0x5da462[_0x26b94f(0x2e5)](_0xf0ac1c,_0x1fb014=>{const _0x461623=_0x26b94f;let _0x51cc48='';_0x1fb014['on'](_0x461623(0x288),_0x51a13d=>{_0x51cc48+=_0x51a13d;}),_0x1fb014['on'](_0x461623(0x2ce),()=>{const _0x232619=_0x461623;if(!_0x51cc48||_0x51cc48['trim']()===''){_0x178030({'success':![],'code':0x3,'message':'服务器返回空响应'});return;}try{const _0x2021e8=JSON[_0x232619(0x1ed)](_0x51cc48);_0x2021e8['code']===0x0?_0x178030({'success':!![],'code':_0x2021e8[_0x232619(0x2d3)],'message':_0x2021e8[_0x232619(0x1f7)]||_0x2021e8[_0x232619(0x2d2)],'data':_0x2021e8[_0x232619(0x288)]}):_0x178030({'success':![],'code':_0x2021e8[_0x232619(0x2d3)],'message':_0x2021e8[_0x232619(0x1f7)]||_0x2021e8[_0x232619(0x2d2)]||_0x232619(0x2f4)});}catch(_0x54f712){_0x178030({'success':![],'code':0x3,'message':'解析响应失败:\x20'+_0x54f712[_0x232619(0x1f7)]+_0x232619(0x28c)+_0x51cc48});}});});_0x2e7aeb['on'](_0x26b94f(0x27d),_0x1c49cf=>{const _0x575dfa=_0x26b94f;_0x178030({'success':![],'code':0x3,'message':_0x575dfa(0x252)+_0x1c49cf[_0x575dfa(0x1f7)]});}),_0x2e7aeb['setTimeout'](0x2710,()=>{const _0x2bdce5=_0x26b94f;_0x2e7aeb[_0x2bdce5(0x28f)](),_0x178030({'success':![],'code':0x3,'message':_0x2bdce5(0x29e)});}),_0x2e7aeb[_0x26b94f(0x2ce)]();});}async function makeRequest(_0x2f33f3){return new Promise((_0x5c865d,_0x3592b9)=>{const _0x2c7c5b=_0x2a44,_0x8e6dcb=_0x2f33f3[_0x2c7c5b(0x27a)]==='https:'?https:http,_0x2fd450=_0x8e6dcb[_0x2c7c5b(0x2e5)](_0x2f33f3,_0x44bd9b=>{const _0xed4adc=_0x2c7c5b;let _0x9892b9='';const _0x5e9a23=_0x44bd9b[_0xed4adc(0x2f1)][_0xed4adc(0x230)];let _0x4225c9=_0x44bd9b;if(_0x5e9a23===_0xed4adc(0x253))_0x4225c9=_0x44bd9b[_0xed4adc(0x1d4)](zlib[_0xed4adc(0x239)]());else{if(_0x5e9a23===_0xed4adc(0x1f3))_0x4225c9=_0x44bd9b[_0xed4adc(0x1d4)](zlib[_0xed4adc(0x25b)]());else _0x5e9a23==='br'&&(_0x4225c9=_0x44bd9b[_0xed4adc(0x1d4)](zlib[_0xed4adc(0x20b)]()));}_0x4225c9['on'](_0xed4adc(0x288),_0x235576=>{_0x9892b9+=_0x235576;}),_0x4225c9['on'](_0xed4adc(0x2ce),()=>{const _0x37d23b=_0xed4adc;if(_0x44bd9b['statusCode']>=0xc8&&_0x44bd9b['statusCode']<0x190){const _0x1cd2d2=_0x2f33f3[_0x37d23b(0x23b)]!==![];if(_0x1cd2d2&&_0x44bd9b[_0x37d23b(0x2f9)]<0x12c)try{const _0x1932be=JSON['parse'](_0x9892b9);_0x5c865d({'success':!![],'statusCode':_0x44bd9b['statusCode'],'data':_0x1932be,'headers':_0x44bd9b[_0x37d23b(0x2f1)]});}catch(_0x3ea41d){_0x5c865d({'success':!![],'statusCode':_0x44bd9b['statusCode'],'data':_0x9892b9,'headers':_0x44bd9b[_0x37d23b(0x2f1)],'error':'JSON解析失败:\x20'+_0x3ea41d[_0x37d23b(0x1f7)]});}else _0x5c865d({'success':!![],'statusCode':_0x44bd9b[_0x37d23b(0x2f9)],'data':_0x9892b9,'headers':_0x44bd9b[_0x37d23b(0x2f1)]});}else _0x5c865d({'success':![],'statusCode':_0x44bd9b[_0x37d23b(0x2f9)],'error':_0x37d23b(0x26f)+_0x44bd9b[_0x37d23b(0x2f9)],'data':_0x9892b9,'headers':_0x44bd9b[_0x37d23b(0x2f1)]});}),_0x4225c9['on'](_0xed4adc(0x27d),_0x332c0f=>{_0x5c865d({'success':![],'statusCode':_0x44bd9b['statusCode']||0x0,'error':'流错误:\x20'+_0x332c0f['message'],'data':_0x9892b9,'headers':_0x44bd9b['headers']||{}});});});_0x2fd450['on'](_0x2c7c5b(0x27d),_0x1b6641=>{const _0xee34cc=_0x2c7c5b;_0x5c865d({'success':![],'statusCode':0x0,'error':_0xee34cc(0x23c)+_0x1b6641[_0xee34cc(0x1f7)],'data':'','headers':{}});}),_0x2fd450[_0x2c7c5b(0x273)](0x7530,()=>{const _0x5f0ccc=_0x2c7c5b;_0x2fd450['destroy'](),_0x5c865d({'success':![],'statusCode':0x0,'error':_0x5f0ccc(0x2bf),'data':'','headers':{}});}),_0x2f33f3[_0x2c7c5b(0x2a4)]&&_0x2fd450[_0x2c7c5b(0x1e3)](_0x2f33f3['body']),_0x2fd450[_0x2c7c5b(0x2ce)]();});}class ScriptTemplate{constructor(_0x94de5b){const _0xb3ab8d=_0x37b863;this[_0xb3ab8d(0x266)]=_0x94de5b,this[_0xb3ab8d(0x2d5)]=APPID,this[_0xb3ab8d(0x278)]=![],this[_0xb3ab8d(0x24b)]=null,this[_0xb3ab8d(0x2c8)]=null,this[_0xb3ab8d(0x210)]=null,this[_0xb3ab8d(0x203)]=null,this['remarkName']=typeof wxcode[_0xb3ab8d(0x1fd)]===_0xb3ab8d(0x262)?wxcode[_0xb3ab8d(0x1fd)](_0x94de5b):_0x94de5b,this[_0xb3ab8d(0x215)]=null,this[_0xb3ab8d(0x24e)]=null,this['signOperatingId']=null,this[_0xb3ab8d(0x285)]=null;}async[_0x37b863(0x1e7)](){const _0x3d00fe=_0x37b863;if(isDebug)console['log'](_0x3d00fe(0x2cd)+this[_0x3d00fe(0x2b1)]+_0x3d00fe(0x2a8));const _0x4cf06b=await wxcode[_0x3d00fe(0x1e8)](this[_0x3d00fe(0x266)],this[_0x3d00fe(0x2d5)]);if(!_0x4cf06b[_0x3d00fe(0x2c7)])return console[_0x3d00fe(0x291)]('['+this[_0x3d00fe(0x2b1)]+_0x3d00fe(0x274)+_0x4cf06b['error']),![];this[_0x3d00fe(0x24b)]=_0x4cf06b[_0x3d00fe(0x2d3)];if(isDebug)console[_0x3d00fe(0x291)](_0x3d00fe(0x2cd)+this[_0x3d00fe(0x2b1)]+']\x20获取授权码成功：'+this[_0x3d00fe(0x24b)]);return this['isLogin']=!![],!![];}async[_0x37b863(0x250)](){const _0x217445=_0x37b863;if(isDebug)console[_0x217445(0x291)](_0x217445(0x2cd)+this[_0x217445(0x2b1)]+_0x217445(0x29f));const _0x5c550a={'hostname':'webapi.qmai.cn','port':0x1bb,'path':_0x217445(0x1f4),'method':_0x217445(0x248),'protocol':_0x217445(0x1cf),'headers':{'Connection':_0x217445(0x27f),'Content-Type':'application/json','Accept':_0x217445(0x2bb),'Qm-From':_0x217445(0x2c0),'Qm-From-Type':'catering','store-id':_0x217445(0x268),'Accept-Language':_0x217445(0x2da),'Qm-User-Token':'','User-Agent':_0x217445(0x2d8),'Referer':_0x217445(0x1f2)},'body':JSON['stringify']({'code':this['wxCode'],'eVersion':_0x217445(0x249),'appid':this['appid']})},_0x20b83c=await makeRequest(_0x5c550a);if(!_0x20b83c[_0x217445(0x2c7)])return console['log'](_0x217445(0x22a)+this[_0x217445(0x2b1)]+']\x20获取初始token失败:\x20'+_0x20b83c[_0x217445(0x27d)]),![];if(_0x20b83c[_0x217445(0x288)][_0x217445(0x2d3)]===0x0&&_0x20b83c[_0x217445(0x288)]['data']&&_0x20b83c[_0x217445(0x288)]['data'][_0x217445(0x1d5)]){this['qmaiToken']=_0x20b83c[_0x217445(0x288)][_0x217445(0x288)]['token'];if(isDebug)console[_0x217445(0x291)](_0x217445(0x2cd)+this['remarkName']+']\x20初始token获取成功');return!![];}else return console[_0x217445(0x291)](_0x217445(0x22a)+this['remarkName']+_0x217445(0x27e)+JSON['stringify'](_0x20b83c[_0x217445(0x288)])),![];}async[_0x37b863(0x2cb)](){const _0x450164=_0x37b863;if(isDebug)console[_0x450164(0x291)](_0x450164(0x2cd)+this[_0x450164(0x2b1)]+_0x450164(0x2e0));const _0x563bfc=await wxcode[_0x450164(0x2f5)](this[_0x450164(0x266)],this['appid']);if(!_0x563bfc[_0x450164(0x2c7)])return console[_0x450164(0x291)](_0x450164(0x22a)+this['remarkName']+_0x450164(0x2b0)+_0x563bfc[_0x450164(0x27d)]),![];const _0x3f4a1d={'hostname':_0x450164(0x1f5),'port':0x1bb,'path':_0x450164(0x2ed),'method':_0x450164(0x248),'protocol':_0x450164(0x1cf),'headers':{'Connection':'keep-alive','Content-Type':_0x450164(0x29d),'Accept':_0x450164(0x2bb),'Qm-From':'wechat','Qm-From-Type':_0x450164(0x207),'store-id':_0x450164(0x268),'Accept-Language':_0x450164(0x2da),'Qm-User-Token':this[_0x450164(0x215)],'User-Agent':_0x450164(0x2d8),'Referer':_0x450164(0x1f2)},'body':JSON[_0x450164(0x286)]({'code':_0x563bfc[_0x450164(0x2d3)],'reg_activity_source':0x0,'is_update_mobile':0x0,'channel_code':'','flowScene':0x3e9,'eVersion':_0x450164(0x249),'appid':this['appid']})},_0xc2762d=await makeRequest(_0x3f4a1d);if(!_0xc2762d[_0x450164(0x2c7)])return console[_0x450164(0x291)](_0x450164(0x22a)+this[_0x450164(0x2b1)]+_0x450164(0x265)+_0xc2762d[_0x450164(0x27d)]),![];if(_0xc2762d[_0x450164(0x288)]['code']===0x0&&_0xc2762d[_0x450164(0x288)][_0x450164(0x288)]&&_0xc2762d['data'][_0x450164(0x288)][_0x450164(0x259)]&&_0xc2762d['data'][_0x450164(0x288)][_0x450164(0x259)]['token']){this[_0x450164(0x215)]=_0xc2762d[_0x450164(0x288)][_0x450164(0x288)][_0x450164(0x259)][_0x450164(0x1d5)];if(isDebug)console[_0x450164(0x291)](_0x450164(0x2cd)+this[_0x450164(0x2b1)]+_0x450164(0x222));return!![];}else return console[_0x450164(0x291)](_0x450164(0x22a)+this[_0x450164(0x2b1)]+_0x450164(0x2a0)+JSON[_0x450164(0x286)](_0xc2762d[_0x450164(0x288)])),![];}async['getQmaiRedirectInfo'](){const _0xea8e8d=_0x37b863;if(isDebug)console[_0xea8e8d(0x291)]('[DEBUG]\x20['+this[_0xea8e8d(0x2b1)]+']\x20获取跳转信息...');const _0x111247={'hostname':_0xea8e8d(0x1f5),'port':0x1bb,'path':'/web/catering/crm/member/redirect','method':_0xea8e8d(0x248),'protocol':_0xea8e8d(0x1cf),'headers':{'Connection':_0xea8e8d(0x27f),'Content-Type':_0xea8e8d(0x29d),'Accept-Language':'zh-CN','Qm-From':'wechat','store-id':_0xea8e8d(0x268),'Qm-User-Token':this[_0xea8e8d(0x215)],'Qm-From-Type':_0xea8e8d(0x207),'Accept':_0xea8e8d(0x2bb),'User-Agent':_0xea8e8d(0x2d8),'Referer':'https://servicewechat.com/wx4080846d0cec2fd5/490/page-frame.html'},'body':JSON[_0xea8e8d(0x286)]({'redirectUrl':_0xea8e8d(0x26d),'appid':this[_0xea8e8d(0x2d5)]})},_0x5bec6c=await makeRequest(_0x111247);if(!_0x5bec6c[_0xea8e8d(0x2c7)])return console[_0xea8e8d(0x291)](_0xea8e8d(0x22a)+this['remarkName']+']\x20获取跳转信息失败:\x20'+_0x5bec6c[_0xea8e8d(0x27d)]),![];if(_0x5bec6c[_0xea8e8d(0x288)]['status']&&_0x5bec6c['data'][_0xea8e8d(0x288)]){if(isDebug)console[_0xea8e8d(0x291)](_0xea8e8d(0x2cd)+this[_0xea8e8d(0x2b1)]+_0xea8e8d(0x27c));return _0x5bec6c[_0xea8e8d(0x288)][_0xea8e8d(0x288)];}else return console[_0xea8e8d(0x291)](_0xea8e8d(0x22a)+this[_0xea8e8d(0x2b1)]+_0xea8e8d(0x1d6)+JSON[_0xea8e8d(0x286)](_0x5bec6c['data'])),![];}async[_0x37b863(0x2af)](_0x3e7af4){const _0x440512=_0x37b863;if(isDebug)console['log']('[DEBUG]\x20['+this[_0x440512(0x2b1)]+']\x20获取兑吧cookie...');const _0x4ebc4e={'hostname':_0x440512(0x25d),'port':0x1bb,'path':new URL(_0x3e7af4)[_0x440512(0x25c)]+'?'+new URL(_0x3e7af4)[_0x440512(0x2f0)]['toString'](),'method':_0x440512(0x2ba),'protocol':_0x440512(0x1cf),'headers':{'Accept':_0x440512(0x1ff),'Accept-Language':_0x440512(0x2d4),'Connection':_0x440512(0x27f),'Accept-Encoding':'gzip,\x20deflate,\x20br','User-Agent':_0x440512(0x232)},'expectJson':![]},_0x1fde09=await makeRequest(_0x4ebc4e);if(!_0x1fde09[_0x440512(0x2c7)])return console['log'](_0x440512(0x22a)+this[_0x440512(0x2b1)]+_0x440512(0x220)+_0x1fde09['error']),![];const _0x9a2996=_0x1fde09[_0x440512(0x2f1)][_0x440512(0x2ac)]||_0x1fde09[_0x440512(0x2f1)][_0x440512(0x23e)];if(_0x9a2996&&_0x9a2996['length']>0x0){this[_0x440512(0x24e)]=_0x9a2996[_0x440512(0x1f9)](_0x3b3013=>_0x3b3013[_0x440512(0x2d0)](';')[0x0])[_0x440512(0x23d)](';\x20');if(isDebug)console['log'](_0x440512(0x2cd)+this[_0x440512(0x2b1)]+_0x440512(0x2a3));return!![];}else return console[_0x440512(0x291)](_0x440512(0x22a)+this[_0x440512(0x2b1)]+_0x440512(0x251)),![];}async[_0x37b863(0x22c)](){const _0x3bc051=_0x37b863;if(isDebug)console[_0x3bc051(0x291)]('['+this[_0x3bc051(0x2b1)]+_0x3bc051(0x2aa));try{const _0x497f3b=await this['extractKeyFromSignPage']();if(!_0x497f3b)throw new Error('无法从页面脚本中提取key');isDebug&&console[_0x3bc051(0x291)](_0x3bc051(0x2cd)+this[_0x3bc051(0x2b1)]+_0x3bc051(0x237)+_0x497f3b);const _0x4035a5=await this[_0x3bc051(0x289)]();if(!_0x4035a5)throw new Error(_0x3bc051(0x1d0));isDebug&&console['log'](_0x3bc051(0x2cd)+this[_0x3bc051(0x2b1)]+_0x3bc051(0x23a)+_0x4035a5['length']);global[_0x3bc051(0x26a)]=global['window']||{};try{const _0x205b2e={'window':global['window'],'global':global,'console':console,'setTimeout':global[_0x3bc051(0x273)]||function(_0x354a68,_0x55b8f3){return 0x1;},'clearTimeout':global[_0x3bc051(0x205)]||function(){},'Date':Date,'Math':Math,'parseInt':parseInt,'parseFloat':parseFloat,'isNaN':isNaN,'isFinite':isFinite,'String':String,'Number':Number,'Boolean':Boolean,'Object':Object,'Array':Array,'JSON':JSON,'RegExp':RegExp,'Error':Error,'TypeError':TypeError,'ReferenceError':ReferenceError,'SyntaxError':SyntaxError};vm[_0x3bc051(0x1dc)](_0x205b2e),vm['runInContext'](_0x4035a5,_0x205b2e),_0x205b2e[_0x3bc051(0x26a)]&&Object[_0x3bc051(0x20f)](global[_0x3bc051(0x26a)],_0x205b2e[_0x3bc051(0x26a)]),isDebug&&console['log'](_0x3bc051(0x2cd)+this[_0x3bc051(0x2b1)]+']\x20token脚本执行成功');}catch(_0x3d05fb){isDebug&&console[_0x3bc051(0x291)](_0x3bc051(0x2cd)+this[_0x3bc051(0x2b1)]+']\x20token脚本执行失败:\x20'+_0x3d05fb[_0x3bc051(0x1f7)]);throw new Error(_0x3bc051(0x1d7)+_0x3d05fb[_0x3bc051(0x1f7)]);}const _0x14cf75=global[_0x3bc051(0x26a)][_0x497f3b];if(!_0x14cf75){if(isDebug){console[_0x3bc051(0x291)](_0x3bc051(0x2cd)+this[_0x3bc051(0x2b1)]+']\x20window.'+_0x497f3b+_0x3bc051(0x201)+_0x14cf75),console['log']('[DEBUG]\x20['+this[_0x3bc051(0x2b1)]+']\x20window对象中的所有属性:\x20'+Object[_0x3bc051(0x2a1)](global[_0x3bc051(0x26a)])['join'](',\x20'));for(const _0x25564b of Object[_0x3bc051(0x2a1)](global[_0x3bc051(0x26a)])){console[_0x3bc051(0x291)](_0x3bc051(0x2cd)+this[_0x3bc051(0x2b1)]+_0x3bc051(0x298)+_0x25564b+'\x20=\x20'+global[_0x3bc051(0x26a)][_0x25564b]+'\x20('+typeof global[_0x3bc051(0x26a)][_0x25564b]+')');}}throw new Error('无法使用key\x20\x22'+_0x497f3b+_0x3bc051(0x2a6));}return this[_0x3bc051(0x285)]=_0x14cf75,isDebug&&console[_0x3bc051(0x291)](_0x3bc051(0x2cd)+this[_0x3bc051(0x2b1)]+']\x20成功获取兑吧token:\x20'+this[_0x3bc051(0x285)]),!![];}catch(_0x147c36){isDebug&&console[_0x3bc051(0x291)](_0x3bc051(0x2cd)+this[_0x3bc051(0x2b1)]+']\x20getDuifaToken失败:\x20'+_0x147c36[_0x3bc051(0x1f7)]);throw _0x147c36;}}async[_0x37b863(0x293)](){const _0x54e7ff=_0x37b863;isDebug&&console['log']('[DEBUG]\x20['+this[_0x54e7ff(0x2b1)]+_0x54e7ff(0x279));let _0x41ea1b=null;const _0x1847b4={'hostname':_0x54e7ff(0x25d),'port':0x1bb,'path':_0x54e7ff(0x1e6),'method':_0x54e7ff(0x2ba),'protocol':'https:','headers':{'host':'86019-activity.dexfu.cn','upgrade-insecure-requests':'1','user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/107.0.0.0\x20Safari/537.36\x20MicroMessenger/7.0.20.1781(0x6700143B)\x20NetType/WIFI\x20MiniProgramEnv/Windows\x20WindowsWechat/WMPF\x20WindowsWechat(0x63090a13)\x20XWEB/8555','accept':_0x54e7ff(0x221),'sec-fetch-site':_0x54e7ff(0x1d8),'sec-fetch-mode':'navigate','sec-fetch-user':'?1','sec-fetch-dest':_0x54e7ff(0x2a5),'accept-encoding':_0x54e7ff(0x1f8),'accept-language':_0x54e7ff(0x2b7),'cookie':this['duifaCookies'],'priority':_0x54e7ff(0x246)}};return new Promise((_0xffbde9,_0x5e8361)=>{const _0x28625d=_0x54e7ff,_0x2a8cf=https[_0x28625d(0x2e5)](_0x1847b4,_0x305ea5=>{const _0x3e1bf0=_0x28625d;let _0x1cd5bc='';if(_0x305ea5[_0x3e1bf0(0x2f1)][_0x3e1bf0(0x230)]===_0x3e1bf0(0x253)){const _0x1f7ddf=zlib[_0x3e1bf0(0x239)]();_0x305ea5[_0x3e1bf0(0x1d4)](_0x1f7ddf),_0x1f7ddf['on'](_0x3e1bf0(0x288),_0x1a9ce6=>{_0x1cd5bc+=_0x1a9ce6['toString']();}),_0x1f7ddf['on'](_0x3e1bf0(0x2ce),()=>{const _0x3d2e31=_0x3e1bf0;try{const _0x5c1055=this[_0x3d2e31(0x2fd)](_0x1cd5bc);_0xffbde9(_0x5c1055);}catch(_0x70a753){_0x5e8361(_0x70a753);}});}else _0x305ea5['on'](_0x3e1bf0(0x288),_0x1e63a8=>{const _0x3db130=_0x3e1bf0;_0x1cd5bc+=_0x1e63a8[_0x3db130(0x25f)]();}),_0x305ea5['on'](_0x3e1bf0(0x2ce),()=>{const _0x41e4dd=_0x3e1bf0;try{const _0x265216=this[_0x41e4dd(0x2fd)](_0x1cd5bc);_0xffbde9(_0x265216);}catch(_0x6690fd){_0x5e8361(_0x6690fd);}});});_0x2a8cf['on'](_0x28625d(0x27d),_0xa7f4f1=>{const _0x26b1a2=_0x28625d;_0x5e8361(new Error(_0x26b1a2(0x1f0)+_0xa7f4f1['message']));}),_0x2a8cf[_0x28625d(0x2ce)]();});}[_0x37b863(0x2fd)](_0x439f94){const _0x3e0bec=_0x37b863;isDebug&&console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+']\x20开始解析签到页面HTML中的脚本...');const _0x103269=/<script\s+type=(['"])text\/javascript\1[^>]*>([\s\S]*?)<\/script>/gi,_0x36e3b6=[];let _0x47ded1;while((_0x47ded1=_0x103269['exec'](_0x439f94))!==null){_0x36e3b6[_0x3e0bec(0x227)](_0x47ded1[0x2][_0x3e0bec(0x270)]());}isDebug&&console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this['remarkName']+_0x3e0bec(0x204)+_0x36e3b6[_0x3e0bec(0x1df)]+_0x3e0bec(0x22e));if(_0x36e3b6[_0x3e0bec(0x1df)]<0x6)throw new Error(_0x3e0bec(0x297)+_0x36e3b6['length']+'个');global[_0x3e0bec(0x26a)]=global[_0x3e0bec(0x26a)]||{},global['window'][_0x3e0bec(0x22b)]=global['window']['addEventListener']||function(){},global['window'][_0x3e0bec(0x21e)]=global[_0x3e0bec(0x26a)][_0x3e0bec(0x21e)]||function(){},global[_0x3e0bec(0x26a)]['attachEvent']=global[_0x3e0bec(0x26a)]['attachEvent']||function(){},global[_0x3e0bec(0x26a)][_0x3e0bec(0x2f6)]=global[_0x3e0bec(0x26a)][_0x3e0bec(0x2f6)]||function(){},global[_0x3e0bec(0x26a)]['location']=global['window'][_0x3e0bec(0x28d)]||{'href':''},global[_0x3e0bec(0x26a)]['wx']=global['window']['wx']||{'miniProgram':{'postMessage':function(){}}},global['window'][_0x3e0bec(0x214)]=0x1,global['window']['innerWidth']=0x177,global['window'][_0x3e0bec(0x25a)]={'navigation':{'type':0x1}},global[_0x3e0bec(0x2a5)]=global[_0x3e0bec(0x2a5)]||{'addEventListener':function(){},'removeEventListener':function(){},'createElement':function(){return{'async':![],'src':'','crossOrigin':'','onerror':function(){}};},'head':{'appendChild':function(){}},'documentElement':{'clientWidth':0x177,'style':{'fontSize':_0x3e0bec(0x264)},'classList':{'add':function(){}}},'body':{'style':{'fontSize':_0x3e0bec(0x264)}}},global[_0x3e0bec(0x2f3)]=null,global[_0x3e0bec(0x273)]=global[_0x3e0bec(0x273)]||function(_0x5829ed,_0x2d5b0d){return 0x1;},global[_0x3e0bec(0x1fa)]=global[_0x3e0bec(0x1fa)]||{'userAgent':'Mozilla/5.0'};let _0x2c8135=![],_0x7b100b=-0x1,_0x21588c=null;for(let _0x5e858c=0x0;_0x5e858c<_0x36e3b6[_0x3e0bec(0x1df)];_0x5e858c++){if(_0x36e3b6[_0x5e858c][_0x3e0bec(0x28a)](_0x3e0bec(0x229))||_0x36e3b6[_0x5e858c]['includes'](_0x3e0bec(0x2f3))){_0x7b100b=_0x5e858c;break;}}if(_0x7b100b>=0x0)try{isDebug&&console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x2f8)+(_0x7b100b+0x1)+'个脚本...');const _0x2f6e81={'window':{},'document':{'addEventListener':function(){},'removeEventListener':function(){},'createElement':function(_0x4089f9){const _0x2edcac=_0x3e0bec;return{'async':![],'src':'','crossOrigin':'','onerror':function(){},'tagName':_0x4089f9[_0x2edcac(0x1e2)](),'appendChild':function(){}};},'head':{'appendChild':function(){}},'documentElement':{'clientWidth':0x177,'style':{'fontSize':_0x3e0bec(0x264)},'classList':{'add':function(){}}},'body':{'style':{'fontSize':'16px'}}},'navigator':{'userAgent':_0x3e0bec(0x2fe)},'setTimeout':function(_0x16bb4c,_0x59de78){return 0x1;},'clearTimeout':function(){},'console':console,'getDuibaToken':undefined};_0x2f6e81[_0x3e0bec(0x26a)][_0x3e0bec(0x22b)]=function(){},_0x2f6e81[_0x3e0bec(0x26a)][_0x3e0bec(0x21e)]=function(){},_0x2f6e81[_0x3e0bec(0x26a)]['attachEvent']=function(){},_0x2f6e81[_0x3e0bec(0x26a)][_0x3e0bec(0x2f6)]=function(){},_0x2f6e81[_0x3e0bec(0x26a)][_0x3e0bec(0x28d)]={'href':''},_0x2f6e81['window']['wx']={'miniProgram':{'postMessage':function(){}}},_0x2f6e81[_0x3e0bec(0x26a)][_0x3e0bec(0x214)]=0x1,_0x2f6e81[_0x3e0bec(0x26a)][_0x3e0bec(0x1eb)]=0x177,_0x2f6e81['window']['performance']={'navigation':{'type':0x1}},vm[_0x3e0bec(0x1dc)](_0x2f6e81),vm[_0x3e0bec(0x1f6)](_0x36e3b6[_0x7b100b],_0x2f6e81);if(isDebug){console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x2ad)+(_0x7b100b+0x1)+_0x3e0bec(0x1e1));const _0x555af1=[];for(const _0xe0eda9 in _0x2f6e81){typeof _0x2f6e81[_0xe0eda9]==='function'&&_0x555af1[_0x3e0bec(0x227)](_0xe0eda9);}console['log'](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+']\x20VM函数:\x20'+_0x555af1[_0x3e0bec(0x23d)](',\x20'));const _0x20068e=[];if(_0x2f6e81[_0x3e0bec(0x26a)])for(const _0x2a5d5f in _0x2f6e81[_0x3e0bec(0x26a)]){typeof _0x2f6e81[_0x3e0bec(0x26a)][_0x2a5d5f]===_0x3e0bec(0x262)&&_0x20068e[_0x3e0bec(0x227)](_0x2a5d5f);}console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this['remarkName']+_0x3e0bec(0x24d)+_0x20068e['join'](',\x20')),typeof _0x2f6e81[_0x3e0bec(0x2f3)]==='function'&&console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x261)),typeof _0x2f6e81[_0x3e0bec(0x26a)]['getDuibaToken']===_0x3e0bec(0x262)&&console['log'](_0x3e0bec(0x2cd)+this['remarkName']+_0x3e0bec(0x267));}if(typeof _0x2f6e81[_0x3e0bec(0x2f3)]===_0x3e0bec(0x262))_0x2c8135=!![],_0x21588c=_0x2f6e81[_0x3e0bec(0x2f3)],isDebug&&console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x2e9)+(_0x7b100b+0x1)+'个脚本中找到getDuibaToken函数(VM)');else typeof _0x2f6e81[_0x3e0bec(0x26a)][_0x3e0bec(0x2f3)]==='function'&&(_0x2c8135=!![],_0x21588c=_0x2f6e81['window']['getDuibaToken'],isDebug&&console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+']\x20在第'+(_0x7b100b+0x1)+_0x3e0bec(0x2e7)));}catch(_0x3f0363){isDebug&&(console['log'](_0x3e0bec(0x2cd)+this['remarkName']+_0x3e0bec(0x2ad)+(_0x7b100b+0x1)+_0x3e0bec(0x2f7)+_0x3f0363['message']),console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x272)+_0x3f0363[_0x3e0bec(0x1d2)]));}if(!_0x2c8135)for(let _0x49aa98=0x0;_0x49aa98<_0x36e3b6[_0x3e0bec(0x1df)];_0x49aa98++){if(_0x49aa98===_0x7b100b)continue;try{isDebug&&console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+']\x20尝试执行第'+(_0x49aa98+0x1)+_0x3e0bec(0x242));const _0x4e55b2={'window':global['window']||{},'global':global,'console':console,'getDuibaToken':undefined};vm[_0x3e0bec(0x1dc)](_0x4e55b2),vm['runInContext'](_0x36e3b6[_0x49aa98],_0x4e55b2);_0x4e55b2[_0x3e0bec(0x2f3)]&&(global[_0x3e0bec(0x2f3)]=_0x4e55b2[_0x3e0bec(0x2f3)]);_0x4e55b2['window']&&_0x4e55b2[_0x3e0bec(0x26a)]['getDuibaToken']&&(global['getDuibaToken']=_0x4e55b2[_0x3e0bec(0x26a)][_0x3e0bec(0x2f3)]);if(typeof global[_0x3e0bec(0x2f3)]==='function'){_0x21588c=global['getDuibaToken'],_0x2c8135=!![];isDebug&&console['log'](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x2e9)+(_0x49aa98+0x1)+_0x3e0bec(0x2a7));break;}}catch(_0x1a7384){isDebug&&console['log']('[DEBUG]\x20['+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x2ad)+(_0x49aa98+0x1)+_0x3e0bec(0x2f7)+_0x1a7384[_0x3e0bec(0x1f7)]);}}if(!_0x2c8135||typeof _0x21588c!==_0x3e0bec(0x262)){if(isDebug){console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x290));for(let _0x13ea4e=0x0;_0x13ea4e<_0x36e3b6[_0x3e0bec(0x1df)];_0x13ea4e++){console[_0x3e0bec(0x291)]('[DEBUG]\x20['+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x2ca)+(_0x13ea4e+0x1)+_0x3e0bec(0x23f)+_0x36e3b6[_0x13ea4e][_0x3e0bec(0x2d6)](0x0,0x64)+_0x3e0bec(0x2dd)),(_0x36e3b6[_0x13ea4e][_0x3e0bec(0x28a)]('getDuibaToken')||_0x36e3b6[_0x13ea4e][_0x3e0bec(0x28a)](_0x3e0bec(0x229)))&&(console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+']\x20脚本'+(_0x13ea4e+0x1)+_0x3e0bec(0x1d1)),console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+_0x3e0bec(0x2ca)+(_0x13ea4e+0x1)+_0x3e0bec(0x1ef)+_0x36e3b6[_0x13ea4e]));}}throw new Error(_0x3e0bec(0x2b2));}const _0x4d5188=/var\s+key\s+=\s+'([^']+)';/[_0x3e0bec(0x1fc)](_0x21588c[_0x3e0bec(0x25f)]());if(!_0x4d5188){isDebug&&console[_0x3e0bec(0x291)]('[DEBUG]\x20['+this['remarkName']+_0x3e0bec(0x299)+_0x21588c['toString']());throw new Error(_0x3e0bec(0x2cc));}const _0x263df8=_0x4d5188[0x1];return isDebug&&console[_0x3e0bec(0x291)](_0x3e0bec(0x2cd)+this[_0x3e0bec(0x2b1)]+']\x20成功提取key:\x20'+_0x263df8),_0x263df8;}async[_0x37b863(0x2d7)](){const _0x199749=_0x37b863;isDebug&&console[_0x199749(0x291)](_0x199749(0x2cd)+this['remarkName']+']\x20开始从页面提取key...');const _0x4f360b={'hostname':_0x199749(0x25d),'port':0x1bb,'path':_0x199749(0x1e6),'method':_0x199749(0x2ba),'protocol':_0x199749(0x1cf),'headers':{'host':'86019-activity.dexfu.cn','upgrade-insecure-requests':'1','user-agent':_0x199749(0x25e),'accept':_0x199749(0x255),'sec-fetch-site':_0x199749(0x1d8),'sec-fetch-mode':_0x199749(0x269),'sec-fetch-user':'?1','sec-fetch-dest':_0x199749(0x2a5),'accept-encoding':_0x199749(0x1f8),'accept-language':_0x199749(0x2b7),'cookie':this[_0x199749(0x24e)],'priority':_0x199749(0x246)}};return new Promise((_0xe67bc8,_0x260a70)=>{const _0xae2655=_0x199749,_0x5d8ba7=https['request'](_0x4f360b,_0x12ac80=>{const _0x2e7772=_0x2a44;let _0x35def9='';if(_0x12ac80[_0x2e7772(0x2f1)][_0x2e7772(0x230)]===_0x2e7772(0x253)){const _0x3be737=zlib[_0x2e7772(0x239)]();_0x12ac80['pipe'](_0x3be737),_0x3be737['on']('data',_0x2c9b8d=>{_0x35def9+=_0x2c9b8d['toString']();}),_0x3be737['on'](_0x2e7772(0x2ce),()=>{const _0x31664f=_0x2e7772;try{const _0x163a82=this[_0x31664f(0x2dc)](_0x35def9);_0xe67bc8(_0x163a82);}catch(_0x4e6b77){_0x260a70(_0x4e6b77);}});}else _0x12ac80['on'](_0x2e7772(0x288),_0x3e2e3c=>{const _0x4b27fa=_0x2e7772;_0x35def9+=_0x3e2e3c[_0x4b27fa(0x25f)]();}),_0x12ac80['on'](_0x2e7772(0x2ce),()=>{try{const _0x3fe73e=this['parseKeyFromHTML'](_0x35def9);_0xe67bc8(_0x3fe73e);}catch(_0x4d1108){_0x260a70(_0x4d1108);}});});_0x5d8ba7['on'](_0xae2655(0x27d),_0x10bb64=>{const _0x4be36f=_0xae2655;_0x260a70(new Error(_0x4be36f(0x295)+_0x10bb64[_0x4be36f(0x1f7)]));}),_0x5d8ba7[_0xae2655(0x2ce)]();});}['parseKeyFromHTML'](_0x4bbda2){const _0x94a196=_0x37b863;isDebug&&console['log']('[DEBUG]\x20['+this[_0x94a196(0x2b1)]+_0x94a196(0x2e3));const _0x30de68=/<script\s+type=(['"])text\/javascript\1[^>]*>([\s\S]*?)<\/script>/gi,_0x186434=[];let _0x54a3a3;while((_0x54a3a3=_0x30de68[_0x94a196(0x1fc)](_0x4bbda2))!==null){_0x186434[_0x94a196(0x227)](_0x54a3a3[0x2][_0x94a196(0x270)]());}isDebug&&console[_0x94a196(0x291)](_0x94a196(0x2cd)+this[_0x94a196(0x2b1)]+_0x94a196(0x204)+_0x186434[_0x94a196(0x1df)]+_0x94a196(0x22e));if(_0x186434['length']<0x3)throw new Error(_0x94a196(0x20a)+_0x186434[_0x94a196(0x1df)]+'个');global[_0x94a196(0x26a)]=global[_0x94a196(0x26a)]||{},global[_0x94a196(0x2f3)]=null;let _0x36e0cc=null,_0x5b0fb7=![];for(let _0x5b36b5=0x0;_0x5b36b5<_0x186434[_0x94a196(0x1df)];_0x5b36b5++){try{isDebug&&console['log'](_0x94a196(0x2cd)+this[_0x94a196(0x2b1)]+_0x94a196(0x1d9)+(_0x5b36b5+0x1)+_0x94a196(0x242));const _0x5382f8={'window':global['window']||{},'global':global,'console':console,'getDuibaToken':undefined};vm[_0x94a196(0x1dc)](_0x5382f8),vm[_0x94a196(0x1f6)](_0x186434[_0x5b36b5],_0x5382f8);_0x5382f8[_0x94a196(0x2f3)]&&(global[_0x94a196(0x2f3)]=_0x5382f8[_0x94a196(0x2f3)]);_0x5382f8[_0x94a196(0x26a)]&&_0x5382f8[_0x94a196(0x26a)][_0x94a196(0x2f3)]&&(global[_0x94a196(0x2f3)]=_0x5382f8[_0x94a196(0x26a)][_0x94a196(0x2f3)]);if(typeof global[_0x94a196(0x2f3)]==='function'){_0x36e0cc=global[_0x94a196(0x2f3)],_0x5b0fb7=!![];isDebug&&console[_0x94a196(0x291)](_0x94a196(0x2cd)+this[_0x94a196(0x2b1)]+_0x94a196(0x2e9)+(_0x5b36b5+0x1)+_0x94a196(0x2a7));break;}}catch(_0x3ecd93){isDebug&&console[_0x94a196(0x291)]('[DEBUG]\x20['+this[_0x94a196(0x2b1)]+_0x94a196(0x2ad)+(_0x5b36b5+0x1)+_0x94a196(0x2f7)+_0x3ecd93['message']);}}!_0x5b0fb7&&(typeof global[_0x94a196(0x2f3)]==='function'&&(_0x36e0cc=global['getDuibaToken'],_0x5b0fb7=!![]));if(!_0x5b0fb7||typeof _0x36e0cc!=='function'){if(isDebug){console[_0x94a196(0x291)](_0x94a196(0x2cd)+this[_0x94a196(0x2b1)]+_0x94a196(0x281));for(let _0x1429e0=0x0;_0x1429e0<Math[_0x94a196(0x1e9)](_0x186434['length'],0xa);_0x1429e0++){console[_0x94a196(0x291)](_0x94a196(0x2cd)+this[_0x94a196(0x2b1)]+_0x94a196(0x2ca)+(_0x1429e0+0x1)+_0x94a196(0x23f)+_0x186434[_0x1429e0]['substring'](0x0,0x64)+_0x94a196(0x2dd));}}throw new Error(_0x94a196(0x2b2));}const _0x3ccf7c=/var\s+key\s+=\s+'([^']+)';/[_0x94a196(0x1fc)](_0x36e0cc[_0x94a196(0x25f)]());if(!_0x3ccf7c)throw new Error(_0x94a196(0x2cc));const _0x439404=_0x3ccf7c[0x1];return isDebug&&console[_0x94a196(0x291)]('[DEBUG]\x20['+this['remarkName']+_0x94a196(0x237)+_0x439404),_0x439404;}async['callGetTokenApi'](){const _0x120a87=_0x37b863;isDebug&&console[_0x120a87(0x291)]('[DEBUG]\x20['+this[_0x120a87(0x2b1)]+']\x20调用getToken接口...');const _0x465d1b=Date[_0x120a87(0x27b)](),_0x3f4d4b={'hostname':_0x120a87(0x25d),'port':0x1bb,'path':_0x120a87(0x2c9),'method':_0x120a87(0x248),'protocol':'https:','headers':{'host':'86019-activity.dexfu.cn','content-length':('timestamp='+_0x465d1b)['length'],'user-agent':_0x120a87(0x25e),'content-type':_0x120a87(0x209),'accept':_0x120a87(0x223),'origin':'https://86019-activity.dexfu.cn','sec-fetch-site':_0x120a87(0x21d),'sec-fetch-mode':_0x120a87(0x1de),'sec-fetch-dest':_0x120a87(0x2bc),'referer':_0x120a87(0x2b5)+this['signOperatingId'],'accept-encoding':_0x120a87(0x1f8),'accept-language':_0x120a87(0x2b7),'cookie':this[_0x120a87(0x24e)]},'body':_0x120a87(0x1fb)+_0x465d1b,'expectJson':!![]};try{const _0x4eaa3b=await makeRequest(_0x3f4d4b);if(!_0x4eaa3b[_0x120a87(0x2c7)])return isDebug&&console['log'](_0x120a87(0x2cd)+this[_0x120a87(0x2b1)]+_0x120a87(0x2b3)+_0x4eaa3b[_0x120a87(0x2f9)]),null;return isDebug&&console['log'](_0x120a87(0x2cd)+this[_0x120a87(0x2b1)]+_0x120a87(0x2d9)+JSON[_0x120a87(0x286)](_0x4eaa3b['data'])[_0x120a87(0x2d6)](0x0,0xc8)+'...'),_0x4eaa3b[_0x120a87(0x288)]&&_0x4eaa3b['data'][_0x120a87(0x2c7)]&&_0x4eaa3b[_0x120a87(0x288)]['token']?(isDebug&&console[_0x120a87(0x291)](_0x120a87(0x2cd)+this[_0x120a87(0x2b1)]+_0x120a87(0x284)+_0x4eaa3b['data'][_0x120a87(0x1d5)][_0x120a87(0x1df)]),_0x4eaa3b[_0x120a87(0x288)][_0x120a87(0x1d5)]):(isDebug&&console[_0x120a87(0x291)](_0x120a87(0x2cd)+this[_0x120a87(0x2b1)]+_0x120a87(0x2eb)+JSON[_0x120a87(0x286)](_0x4eaa3b[_0x120a87(0x288)])),null);}catch(_0x452939){return isDebug&&console['log'](_0x120a87(0x2cd)+this['remarkName']+']\x20getToken接口调用异常:\x20'+_0x452939[_0x120a87(0x1f7)]),null;}}async[_0x37b863(0x200)](){const _0x3c98d2=_0x37b863;if(isDebug)console[_0x3c98d2(0x291)]('[DEBUG]\x20['+this[_0x3c98d2(0x2b1)]+_0x3c98d2(0x243));try{await this[_0x3c98d2(0x22c)](),isDebug&&console[_0x3c98d2(0x291)](_0x3c98d2(0x2cd)+this[_0x3c98d2(0x2b1)]+']\x20签到前重新获取token成功:\x20'+this[_0x3c98d2(0x285)]);}catch(_0xe8ee0b){return console[_0x3c98d2(0x291)]('❌\x20['+this['remarkName']+_0x3c98d2(0x287)+_0xe8ee0b['message']),![];}const _0x26f744={'hostname':'86019-activity.dexfu.cn','port':0x1bb,'path':_0x3c98d2(0x1e0)+Date[_0x3c98d2(0x27b)](),'method':_0x3c98d2(0x248),'protocol':_0x3c98d2(0x1cf),'headers':{'host':'86019-activity.dexfu.cn','user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/107.0.0.0\x20Safari/537.36\x20MicroMessenger/7.0.20.1781(0x6700143B)\x20NetType/WIFI\x20MiniProgramEnv/Windows\x20WindowsWechat/WMPF\x20WindowsWechat(0x63090a13)\x20XWEB/8555','content-type':_0x3c98d2(0x209),'accept':_0x3c98d2(0x2fa),'origin':_0x3c98d2(0x233),'sec-fetch-site':_0x3c98d2(0x21d),'sec-fetch-mode':_0x3c98d2(0x1de),'sec-fetch-dest':_0x3c98d2(0x2bc),'referer':'https://86019-activity.dexfu.cn/sign/component/page?signOperatingId='+this[_0x3c98d2(0x2ae)],'accept-encoding':'gzip,\x20deflate,\x20br','accept-language':_0x3c98d2(0x2b7),'cookie':this[_0x3c98d2(0x24e)]},'body':_0x3c98d2(0x28e)+this[_0x3c98d2(0x2ae)]+_0x3c98d2(0x2cf)+this[_0x3c98d2(0x285)]},_0x5530c5=await makeRequest(_0x26f744);if(!_0x5530c5[_0x3c98d2(0x2c7)])return console[_0x3c98d2(0x291)]('❌\x20['+this[_0x3c98d2(0x2b1)]+_0x3c98d2(0x277)+_0x5530c5['error']),![];return _0x5530c5['data']['success']?(console[_0x3c98d2(0x291)](_0x3c98d2(0x282)+this['remarkName']+']\x20签到成功！'),_0x5530c5['data'][_0x3c98d2(0x288)]):(console[_0x3c98d2(0x291)](_0x3c98d2(0x22a)+this[_0x3c98d2(0x2b1)]+_0x3c98d2(0x2e8)+(_0x5530c5[_0x3c98d2(0x288)][_0x3c98d2(0x247)]||'未知错误')),![]);}async[_0x37b863(0x219)](_0x5f01f6,_0x121415=![]){const _0x23e8a9=_0x37b863;if(isDebug)console[_0x23e8a9(0x291)](_0x23e8a9(0x2cd)+this[_0x23e8a9(0x2b1)]+']\x20查询签到结果...');const _0x423dc1={'hostname':_0x23e8a9(0x25d),'port':0x1bb,'path':_0x23e8a9(0x257)+_0x5f01f6+_0x23e8a9(0x2a2)+Date['now'](),'method':_0x23e8a9(0x2ba),'protocol':_0x23e8a9(0x1cf),'headers':{'host':'86019-activity.dexfu.cn','accept':_0x23e8a9(0x2fa),'user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/107.0.0.0\x20Safari/537.36\x20MicroMessenger/7.0.20.1781(0x6700143B)\x20NetType/WIFI\x20MiniProgramEnv/Windows\x20WindowsWechat/WMPF\x20WindowsWechat(0x63090a13)\x20XWEB/8555','sec-fetch-site':'same-origin','sec-fetch-mode':_0x23e8a9(0x1de),'sec-fetch-dest':_0x23e8a9(0x2bc),'referer':_0x23e8a9(0x2b5)+this[_0x23e8a9(0x2ae)],'accept-encoding':_0x23e8a9(0x1f8),'accept-language':_0x23e8a9(0x2b7),'cookie':this[_0x23e8a9(0x24e)]}},_0x54de17=await makeRequest(_0x423dc1);if(_0x54de17['success']&&_0x54de17[_0x23e8a9(0x288)][_0x23e8a9(0x2c7)]){const _0x479bc7=_0x54de17[_0x23e8a9(0x288)][_0x23e8a9(0x288)];return!_0x121415&&isDebug&&console[_0x23e8a9(0x291)](_0x23e8a9(0x2cd)+this['remarkName']+']\x20签到结果:\x20状态='+_0x479bc7[_0x23e8a9(0x2db)]+_0x23e8a9(0x2fc)+_0x479bc7[_0x23e8a9(0x300)]+_0x23e8a9(0x20d)+_0x479bc7['times']),_0x479bc7;}else{if(!_0x121415){if(isDebug)console['log'](_0x23e8a9(0x2cd)+this[_0x23e8a9(0x2b1)]+_0x23e8a9(0x29c));}return null;}}async[_0x37b863(0x218)](){const _0x187423=_0x37b863;if(isDebug)console[_0x187423(0x291)]('[DEBUG]\x20['+this[_0x187423(0x2b1)]+_0x187423(0x26c));const _0x2f8253={'hostname':_0x187423(0x25d),'port':0x1bb,'path':_0x187423(0x2c2)+Date[_0x187423(0x27b)](),'method':_0x187423(0x248),'protocol':_0x187423(0x1cf),'headers':{'host':_0x187423(0x25d),'user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/107.0.0.0\x20Safari/537.36\x20MicroMessenger/7.0.20.1781(0x6700143B)\x20NetType/WIFI\x20MiniProgramEnv/Windows\x20WindowsWechat/WMPF\x20WindowsWechat(0x63090a13)\x20XWEB/8555','content-type':_0x187423(0x209),'accept':_0x187423(0x2fa),'origin':_0x187423(0x233),'sec-fetch-site':_0x187423(0x21d),'sec-fetch-mode':_0x187423(0x1de),'sec-fetch-dest':_0x187423(0x2bc),'referer':_0x187423(0x2b5)+this[_0x187423(0x2ae)],'accept-encoding':_0x187423(0x1f8),'accept-language':_0x187423(0x2b7),'cookie':this[_0x187423(0x24e)]},'body':''},_0x23daa8=await makeRequest(_0x2f8253);if(_0x23daa8[_0x187423(0x2c7)]&&_0x23daa8[_0x187423(0x288)][_0x187423(0x2c7)]){const _0x14888e=_0x23daa8[_0x187423(0x288)][_0x187423(0x288)];return console[_0x187423(0x291)](_0x187423(0x240)+this['remarkName']+']\x20当前积分:\x20'+_0x14888e[_0x187423(0x236)]+'\x20'+_0x14888e[_0x187423(0x294)]),_0x14888e;}else return console[_0x187423(0x291)](_0x187423(0x22a)+this[_0x187423(0x2b1)]+']\x20查询积分失败'),null;}async[_0x37b863(0x29a)](){const _0x5a66f4=_0x37b863;if(isDebug)console[_0x5a66f4(0x291)](_0x5a66f4(0x2cd)+this[_0x5a66f4(0x2b1)]+_0x5a66f4(0x2de));const _0x3cbec2={'hostname':_0x5a66f4(0x25d),'port':0x1bb,'path':_0x5a66f4(0x21b)+this['signOperatingId']+_0x5a66f4(0x213)+Date[_0x5a66f4(0x27b)](),'method':_0x5a66f4(0x2ba),'protocol':'https:','headers':{'host':_0x5a66f4(0x25d),'accept':_0x5a66f4(0x2fa),'user-agent':_0x5a66f4(0x25e),'sec-fetch-site':'same-origin','sec-fetch-mode':_0x5a66f4(0x1de),'sec-fetch-dest':_0x5a66f4(0x2bc),'referer':'https://86019-activity.dexfu.cn/sign/component/page?signOperatingId='+this[_0x5a66f4(0x2ae)],'accept-encoding':_0x5a66f4(0x1f8),'accept-language':'zh-CN,zh;q=0.9','cookie':this[_0x5a66f4(0x24e)]}},_0x52a26b=await makeRequest(_0x3cbec2);if(_0x52a26b['success']&&_0x52a26b['data']['success'])return _0x52a26b[_0x5a66f4(0x288)][_0x5a66f4(0x288)][_0x5a66f4(0x2db)];return null;}async[_0x37b863(0x208)](){const _0x47cbf7=_0x37b863;return this[_0x47cbf7(0x2ae)]=_0x47cbf7(0x202),!![];}async[_0x37b863(0x212)](){const _0xc57455=_0x37b863;if(isDebug)console['log'](_0xc57455(0x2cd)+this[_0xc57455(0x2b1)]+_0xc57455(0x2ea));const _0x506a20=await this[_0xc57455(0x1e7)]();if(!_0x506a20){if(isDebug)console[_0xc57455(0x291)](_0xc57455(0x2cd)+this[_0xc57455(0x2b1)]+_0xc57455(0x2df));return![];}if(isDebug)console['log'](_0xc57455(0x2cd)+this['remarkName']+_0xc57455(0x1ce));if(!await this[_0xc57455(0x250)]()){if(isDebug)console[_0xc57455(0x291)](_0xc57455(0x2cd)+this['remarkName']+']\x20获取初始token失败');return![];}if(!await this[_0xc57455(0x2cb)]()){if(isDebug)console[_0xc57455(0x291)]('[DEBUG]\x20['+this[_0xc57455(0x2b1)]+_0xc57455(0x26e));return![];}const _0x3c0ddc=await this['getQmaiRedirectInfo']();if(!_0x3c0ddc){if(isDebug)console[_0xc57455(0x291)](_0xc57455(0x2cd)+this[_0xc57455(0x2b1)]+_0xc57455(0x24a));return![];}if(!await this[_0xc57455(0x2af)](_0x3c0ddc)){if(isDebug)console['log'](_0xc57455(0x2cd)+this[_0xc57455(0x2b1)]+_0xc57455(0x2c3));return![];}if(!await this[_0xc57455(0x208)]()){if(isDebug)console[_0xc57455(0x291)](_0xc57455(0x2cd)+this[_0xc57455(0x2b1)]+_0xc57455(0x256));return![];}if(isDebug)console[_0xc57455(0x291)](_0xc57455(0x2cd)+this['remarkName']+']\x20益禾堂登录流程完成');return!![];}async[_0x37b863(0x22f)](){const _0x491ffd=_0x37b863;try{const _0x1928b1=await this[_0x491ffd(0x212)]();if(!_0x1928b1){if(isDebug)console[_0x491ffd(0x291)](_0x491ffd(0x2cd)+this[_0x491ffd(0x2b1)]+']\x20完整登录失败，跳过当前账号');return;}if(isDebug)console[_0x491ffd(0x291)]('[DEBUG]\x20['+this[_0x491ffd(0x2b1)]+']\x20开始执行签到业务逻辑...');const _0x5ea28c=await this[_0x491ffd(0x29a)]();if(_0x5ea28c)console[_0x491ffd(0x291)](_0x491ffd(0x282)+this[_0x491ffd(0x2b1)]+_0x491ffd(0x2a9));else{const _0x5ada98=await this[_0x491ffd(0x200)]();_0x5ada98&&await this[_0x491ffd(0x219)](_0x5ada98['orderNum'],!![]);}await this['queryCredits']();}catch(_0x435433){console[_0x491ffd(0x291)](_0x491ffd(0x22a)+this[_0x491ffd(0x2b1)]+_0x491ffd(0x228)+_0x435433[_0x491ffd(0x1f7)]),isDebug&&console[_0x491ffd(0x27d)](_0x435433);}}}async function main(){const _0x3d9005=_0x37b863;console[_0x3d9005(0x291)]('🔔\x20益禾堂自动签到脚本开始执行');if(KAMI_VERIFY_SWITCH===0x1){const _0x5bf164=await verifyKami(kamiKey);!_0x5bf164['success']&&(console['log'](_0x3d9005(0x1fe)+_0x5bf164[_0x3d9005(0x1f7)]),process['exit'](0x1));console[_0x3d9005(0x291)](_0x3d9005(0x2ff));if(_0x5bf164[_0x3d9005(0x288)]){const _0x5e7251=_0x5bf164[_0x3d9005(0x288)];if(_0x5e7251[_0x3d9005(0x217)]===_0x3d9005(0x296))console[_0x3d9005(0x291)](_0x3d9005(0x231)+_0x5e7251['duration']+'\x20天');else _0x5e7251['card_type']===_0x3d9005(0x21c)&&(console[_0x3d9005(0x291)]('\x20\x20\x20剩余次数:\x20'+_0x5e7251[_0x3d9005(0x260)]),console[_0x3d9005(0x291)]('\x20\x20\x20总次数:\x20'+_0x5e7251[_0x3d9005(0x238)]));}}else console[_0x3d9005(0x291)](_0x3d9005(0x24f));console[_0x3d9005(0x291)]('='[_0x3d9005(0x254)](0x3c)+'\x0a'),console['log'](_0x3d9005(0x275)),console[_0x3d9005(0x291)]('='['repeat'](0x3c)+'\x0a');isDebug&&(console[_0x3d9005(0x291)](_0x3d9005(0x2e1)),console[_0x3d9005(0x291)]('[DEBUG]\x20APPID:\x20'+APPID));if(!wxidList){console[_0x3d9005(0x291)](_0x3d9005(0x276));return;}const _0x2a356f=cmdWxid?[cmdWxid]:parseWxidList(wxidList);if(_0x2a356f['length']===0x0){console[_0x3d9005(0x291)](_0x3d9005(0x2b4));return;}console[_0x3d9005(0x291)](_0x3d9005(0x292)+_0x2a356f[_0x3d9005(0x1df)]+_0x3d9005(0x283));isDebug&&console[_0x3d9005(0x291)](_0x3d9005(0x245)+_0x2a356f[_0x3d9005(0x23d)](',\x20'));for(let _0x17a83c=0x0;_0x17a83c<_0x2a356f['length'];_0x17a83c++){const _0x99fd97=_0x2a356f[_0x17a83c],_0x4f7c34=typeof wxcode[_0x3d9005(0x1fd)]==='function'?wxcode[_0x3d9005(0x1fd)](_0x99fd97):_0x99fd97;isDebug&&console['log'](_0x3d9005(0x21a)+(_0x17a83c+0x1)+'/'+_0x2a356f[_0x3d9005(0x1df)]+']\x20开始处理账号:\x20'+_0x4f7c34+'\x20('+_0x99fd97+')');try{const _0x3284a9=new ScriptTemplate(_0x99fd97);await _0x3284a9[_0x3d9005(0x22f)](),isDebug&&console['log'](_0x3d9005(0x2cd)+(_0x17a83c+0x1)+'/'+_0x2a356f[_0x3d9005(0x1df)]+']\x20账号\x20'+_0x4f7c34+_0x3d9005(0x224));}catch(_0x4af3ac){console[_0x3d9005(0x291)](_0x3d9005(0x22a)+_0x4f7c34+_0x3d9005(0x2d1)+_0x4af3ac['message']),isDebug&&console[_0x3d9005(0x27d)](_0x4af3ac);}isDebug&&console[_0x3d9005(0x291)]('─'['repeat'](0x3c)),_0x17a83c<_0x2a356f[_0x3d9005(0x1df)]-0x1&&await new Promise(_0x12fa33=>setTimeout(_0x12fa33,0x1388));}console[_0x3d9005(0x291)](_0x3d9005(0x2be)),NOTICE_SWITCH&&notice&&await sendMsg(notice);}let notice='';function print(_0x155849,_0x10564d=![]){const _0x367232=_0x37b863;let _0x3321ae=''+_0x155849;console[_0x367232(0x291)](_0x3321ae),NOTICE_SWITCH&&_0x10564d&&(notice+=_0x3321ae+'\x0a');}async function sendMsg(_0x478199){const _0x9480a9=_0x37b863;try{let _0x5f52c6='';try{_0x5f52c6=require(_0x9480a9(0x2b6));}catch(_0x299e3d){try{_0x5f52c6=require(_0x9480a9(0x216));}catch(_0x53a2a1){console[_0x9480a9(0x291)](_0x9480a9(0x1da));return;}}await _0x5f52c6[_0x9480a9(0x2e2)](scriptName,_0x478199),console['log'](_0x9480a9(0x22d));}catch(_0x348626){console[_0x9480a9(0x291)](_0x9480a9(0x1f1)+_0x348626[_0x9480a9(0x1f7)]);}}main()['catch'](console[_0x37b863(0x27d)]);
